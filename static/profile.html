<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile</title>
  <link rel="stylesheet" href="/static/profile.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
</head>

<body>
  <!-- navigation bar, only with a brand link and logout icon -->
  <header class="navbar">
    <div class="container flex items-center justify-between">
      <div class="brand"><a href="/" class="brand-link">Open Wings</a></div>
      <div class="icon-wrapper"><a href="/profile/logout" class="icon-link"><i
            class="fa-solid fa-right-from-bracket"></i></a></div>
    </div>
  </header>

  <!-- main contain a view one the bird searched/default -->
  <div class="wrap-content container">
    <main class="profile-view">
      <div class="profile-info grid gap-0">

        <div class="map-wrapper">
          <div id="map" class="obs-map"></div>
        </div>

        <div class="profile-meta-wrapper">
          <div class="profile-meta">
            <h1 class="user-name" id="js-username">...</h1>
            <div class="profile-foot"><em>Profile Actions</em></div>
          </div>

          <div class="profile-actions">
            <!-- button open insert observation modal -->
            <button id="js-insert-observation" class="btn btn-primary btn-actions">Insert Observation</button>
            <!-- button open create new challenge modal -->
            <button id="js-create-challenge" class="btn btn-primary btn-actions">Create Challenge</button>
            <!-- button open invite user to a challenge modal -->
            <button id="js-invite-user" class="btn btn-primary btn-actions">Invite User</button>
          </div>
        </div>
      </div>

      <div class="standings-wrapper" id="js-standings-wrapper">
        <!-- challenge standings will be dynamically loaded in the two wrappers below -->
        <div>
          <h2>Ongoing Challenges</h2>
          <div class="standings-ongoing-wrapper" id="js-standings-ongoing-wrapper">
            <!-- ongoing challenges will be dynamically loaded here -->
          </div>
        </div>
        <div>
          <h2>Ended Challenges</h2>
          <div class="standings-ended-wrapper" id="js-standings-ended-wrapper">
            <!-- ended challenges will be dynamically loaded here -->
          </div>
        </div>
      </div>
    </main>

    <!-- modal for inserting an observation -->
    <dialog id="js-insert-observation-modal" class="modal">
      <form method="dialog" class="modal-content">
        <button class="modal-close-btn" aria-label="Close" type="button">&times;</button>
        <h2 class="modal-title">Insert New Observation</h2>

        <div class="form-group">
          <label for="js-species-input">Species Scientific Name</label>
          <input type="text" id="js-species-input" name="species" required />
        </div>
        <div class="form-group">
          <label for="js-latitude-input">Latitude</label>
          <input type="number" step="any" id="js-latitude-input" name="latitude" required />
        </div>

        <div class="form-group">
          <label for="js-longitude-input">Longitude</label>
          <input type="number" step="any" id="js-longitude-input" name="longitude" required />
        </div>

        <div class="form-group">
          <label for="js-observed-at-input">Observed At</label>
          <input type="datetime-local" id="js-observed-at-input" name="observedAt" required />
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Submit Observation</button>
        </div>
      </form>
    </dialog>

    <!-- modal for creating a new challenge -->
    <dialog id="js-create-challenge-modal" class="modal">
      <form method="dialog" class="modal-content">
        <button class="modal-close-btn" aria-label="Close" type="button">&times;</button>
        <h2 class="modal-title">Create New Challenge</h2>

        <div class="form-group">
          <label for="js-challenge-name-input">Challenge Name</label>
          <input type="text" id="js-challenge-name-input" name="name" required />
        </div>
        <div class="form-group">
          <label for="js-challenge-start-date-input">Start Date</label>
          <input type="datetime-local" id="js-challenge-start-date-input" name="startDate" required />
        </div>

        <div class="form-group">
          <label for="js-challenge-end-date-input">End Date</label>
          <input type="datetime-local" id="js-challenge-end-date-input" name="endDate" required />
        </div>

        <div class="form-group">
          <label for="js-challenge-lc-points-input">Least Concern Points</label>
          <input type="number" step="any" id="js-challenge-lc-points-input" name="lcPoints" value="1" />
        </div>
        <div class="form-group">
          <label for="js-challenge-nt-points-input">Near Threatened Points</label>
          <input type="number" step="any" id="js-challenge-nt-points-input" name="ntPoints" value="2" />
        </div>
        <div class="form-group">
          <label for="js-challenge-vu-points-input">Vulnerable Points</label>
          <input type="number" step="any" id="js-challenge-vu-points-input" name="vuPoints" value="5" />
        </div>
        <div class="form-group">
          <label for="js-challenge-en-points-input">Endangered Points</label>
          <input type="number" step="any" id="js-challenge-en-points-input" name="enPoints" value="6" />
        </div>
        <div class="form-group">
          <label for="js-challenge-cr-points-input">Critically Endangered Points</label>
          <input type="number" step="any" id="js-challenge-cr-points-input" name="crPoints" value="8" />
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Create Challenge</button>
        </div>
      </form>
    </dialog>

    <!-- modal for inviting user to a challenge -->
    <dialog id="js-invite-user-modal" class="modal">
      <form method="dialog" class="modal-content">
        <button class="modal-close-btn" aria-label="Close" type="button">&times;</button>
        <h2 class="modal-title">Invite User to Challenge</h2>

        <div class="form-group">
          <label for="js-invite-challenge-input">Challenge name</label>
          <input type="text" id="js-invite-challenge-input" name="challenge" required />
        </div>

        <div class="form-group">
          <label for="js-invite-username-input">Username</label>
          <input type="text" id="js-invite-username-input" name="username" required />
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Send Invitation</button>
        </div>
      </form>
    </dialog>

    <!-- challenge standings template -->
    <template id="js-challenge-standings-template">
      <!-- challenge card containing the challenge information -->
      <article class="challenge-card" role="group" aria-labelledby="">
        <header class="challenge-header">
          <h3 class="challenge-name"></h3>
          <div class="challenge-meta">
            <!-- info about the challenge -->
            <time class="challenge-start-date" aria-label="Start date"></time>
            <span class="meta-separator">â€”</span>
            <time class="challenge-end-date" aria-label="End date"></time>
          </div>
        </header>

        <section class="standings-participants" aria-label="Participants standings">
          <div class="standings-participants-wrapper">
            <table class="participant-standings" role="table" aria-label="Participant standings">
              <thead>
                <tr>
                  <th scope="col" class="col-s col-th-user">User</th>
                  <th scope="col" class="col-s">Total</th>
                  <th scope="col" class="col-s" title="Least Concern">LC</th>
                  <th scope="col" class="col-s" title="Near Threatened">NT</th>
                  <th scope="col" class="col-s" title="Vulnerable">VU</th>
                  <th scope="col" class="col-s" title="Endangered">EN</th>
                  <th scope="col" class="col-s" title="Critically Endangered">CR</th>
                </tr>
              </thead>
              <tbody class="standings-body">
                <!-- participant standings will be dynamically loaded here as rows -->
              </tbody>
            </table>
          </div>
        </section>
      </article>
    </template>

    <!-- participant standings template -->
    <template id="js-participant-standings-template">
      <!-- row for each participant, and their scores -->
      <tr class="participant-row">
        <td class="participant-username col-s" data-label="User"></td>
        <td class="participant-total-score col-s" data-label="Total"></td>
        <td class="participant-lc-score col-s" data-label="LC"></td>
        <td class="participant-nt-score col-s" data-label="NT"></td>
        <td class="participant-vu-score col-s" data-label="VU"></td>
        <td class="participant-en-score col-s" data-label="EN"></td>
        <td class="participant-cr-score col-s" data-label="CR"></td>
      </tr>
    </template>


    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <script src="static/profile.js"></script>
</body>

</html>